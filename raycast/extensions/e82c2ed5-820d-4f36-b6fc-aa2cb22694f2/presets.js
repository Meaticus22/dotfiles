"use strict";var _n=Object.create;var ne=Object.defineProperty;var hn=Object.getOwnPropertyDescriptor;var yn=Object.getOwnPropertyNames;var vn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Pn=(e,t)=>{for(var n in t)ne(e,n,{get:t[n],enumerable:!0})},nt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of yn(t))!mn.call(e,u)&&u!==n&&ne(e,u,{get:()=>t[u],enumerable:!(r=hn(t,u))||r.enumerable});return e};var rt=(e,t,n)=>(n=e!=null?_n(vn(e)):{},nt(t||!e||!e.__esModule?ne(n,"default",{value:e,enumerable:!0}):n,e)),wn=e=>nt(ne({},"__esModule",{value:!0}),e);var Me=m(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.default=Sn;var An=xn(require("crypto"));function xn(e){return e&&e.__esModule?e:{default:e}}var ie=new Uint8Array(256),re=ie.length;function Sn(){return re>ie.length-16&&(An.default.randomFillSync(ie),re=0),ie.slice(re,re+=16)}});var it=m(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.default=void 0;var Cn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;ae.default=Cn});var Q=m(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.default=void 0;var In=On(it());function On(e){return e&&e.__esModule?e:{default:e}}function Dn(e){return typeof e=="string"&&In.default.test(e)}var Ln=Dn;ue.default=Ln});var V=m(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.default=void 0;z.unsafeStringify=at;var Tn=Mn(Q());function Mn(e){return e&&e.__esModule?e:{default:e}}var P=[];for(let e=0;e<256;++e)P.push((e+256).toString(16).slice(1));function at(e,t=0){return(P[e[t+0]]+P[e[t+1]]+P[e[t+2]]+P[e[t+3]]+"-"+P[e[t+4]]+P[e[t+5]]+"-"+P[e[t+6]]+P[e[t+7]]+"-"+P[e[t+8]]+P[e[t+9]]+"-"+P[e[t+10]]+P[e[t+11]]+P[e[t+12]]+P[e[t+13]]+P[e[t+14]]+P[e[t+15]]).toLowerCase()}function bn(e,t=0){let n=at(e,t);if(!(0,Tn.default)(n))throw TypeError("Stringified UUID is invalid");return n}var Rn=bn;z.default=Rn});var lt=m(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.default=void 0;var Un=qn(Me()),En=V();function qn(e){return e&&e.__esModule?e:{default:e}}var ut,be,Re=0,Ue=0;function Nn(e,t,n){let r=t&&n||0,u=t||new Array(16);e=e||{};let i=e.node||ut,s=e.clockseq!==void 0?e.clockseq:be;if(i==null||s==null){let o=e.random||(e.rng||Un.default)();i==null&&(i=ut=[o[0]|1,o[1],o[2],o[3],o[4],o[5]]),s==null&&(s=be=(o[6]<<8|o[7])&16383)}let d=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Ue+1,p=d-Re+(c-Ue)/1e4;if(p<0&&e.clockseq===void 0&&(s=s+1&16383),(p<0||d>Re)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Re=d,Ue=c,be=s,d+=122192928e5;let g=((d&268435455)*1e4+c)%4294967296;u[r++]=g>>>24&255,u[r++]=g>>>16&255,u[r++]=g>>>8&255,u[r++]=g&255;let l=d/4294967296*1e4&268435455;u[r++]=l>>>8&255,u[r++]=l&255,u[r++]=l>>>24&15|16,u[r++]=l>>>16&255,u[r++]=s>>>8|128,u[r++]=s&255;for(let o=0;o<6;++o)u[r+o]=i[o];return t||(0,En.unsafeStringify)(u)}var Fn=Nn;le.default=Fn});var Ee=m(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.default=void 0;var $n=Hn(Q());function Hn(e){return e&&e.__esModule?e:{default:e}}function Bn(e){if(!(0,$n.default)(e))throw TypeError("Invalid UUID");let t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var Gn=Bn;oe.default=Gn});var qe=m(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.URL=q.DNS=void 0;q.default=Yn;var Kn=V(),Wn=Jn(Ee());function Jn(e){return e&&e.__esModule?e:{default:e}}function Xn(e){e=unescape(encodeURIComponent(e));let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var ot="6ba7b810-9dad-11d1-80b4-00c04fd430c8";q.DNS=ot;var st="6ba7b811-9dad-11d1-80b4-00c04fd430c8";q.URL=st;function Yn(e,t,n){function r(u,i,s,d){var c;if(typeof u=="string"&&(u=Xn(u)),typeof i=="string"&&(i=(0,Wn.default)(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let p=new Uint8Array(16+u.length);if(p.set(i),p.set(u,i.length),p=n(p),p[6]=p[6]&15|t,p[8]=p[8]&63|128,s){d=d||0;for(let g=0;g<16;++g)s[d+g]=p[g];return s}return(0,Kn.unsafeStringify)(p)}try{r.name=e}catch{}return r.DNS=ot,r.URL=st,r}});var ft=m(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.default=void 0;var Zn=Qn(require("crypto"));function Qn(e){return e&&e.__esModule?e:{default:e}}function zn(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Zn.default.createHash("md5").update(e).digest()}var Vn=zn;se.default=Vn});var dt=m(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.default=void 0;var kn=ct(qe()),jn=ct(ft());function ct(e){return e&&e.__esModule?e:{default:e}}var er=(0,kn.default)("v3",48,jn.default),tr=er;fe.default=tr});var gt=m(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.default=void 0;var nr=rr(require("crypto"));function rr(e){return e&&e.__esModule?e:{default:e}}var ir={randomUUID:nr.default.randomUUID};ce.default=ir});var ht=m(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.default=void 0;var pt=_t(gt()),ar=_t(Me()),ur=V();function _t(e){return e&&e.__esModule?e:{default:e}}function lr(e,t,n){if(pt.default.randomUUID&&!t&&!e)return pt.default.randomUUID();e=e||{};let r=e.random||(e.rng||ar.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let u=0;u<16;++u)t[n+u]=r[u];return t}return(0,ur.unsafeStringify)(r)}var or=lr;de.default=or});var yt=m(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.default=void 0;var sr=fr(require("crypto"));function fr(e){return e&&e.__esModule?e:{default:e}}function cr(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),sr.default.createHash("sha1").update(e).digest()}var dr=cr;ge.default=dr});var mt=m(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.default=void 0;var gr=vt(qe()),pr=vt(yt());function vt(e){return e&&e.__esModule?e:{default:e}}var _r=(0,gr.default)("v5",80,pr.default),hr=_r;pe.default=hr});var Pt=m(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.default=void 0;var yr="00000000-0000-0000-0000-000000000000";_e.default=yr});var wt=m(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.default=void 0;var vr=mr(Q());function mr(e){return e&&e.__esModule?e:{default:e}}function Pr(e){if(!(0,vr.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var wr=Pr;he.default=wr});var At=m(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});Object.defineProperty(C,"NIL",{enumerable:!0,get:function(){return Ir.default}});Object.defineProperty(C,"parse",{enumerable:!0,get:function(){return Tr.default}});Object.defineProperty(C,"stringify",{enumerable:!0,get:function(){return Lr.default}});Object.defineProperty(C,"v1",{enumerable:!0,get:function(){return Ar.default}});Object.defineProperty(C,"v3",{enumerable:!0,get:function(){return xr.default}});Object.defineProperty(C,"v4",{enumerable:!0,get:function(){return Sr.default}});Object.defineProperty(C,"v5",{enumerable:!0,get:function(){return Cr.default}});Object.defineProperty(C,"validate",{enumerable:!0,get:function(){return Dr.default}});Object.defineProperty(C,"version",{enumerable:!0,get:function(){return Or.default}});var Ar=D(lt()),xr=D(dt()),Sr=D(ht()),Cr=D(mt()),Ir=D(Pt()),Or=D(wt()),Dr=D(Q()),Lr=D(V()),Tr=D(Ee());function D(e){return e&&e.__esModule?e:{default:e}}});var sn=m((k,G)=>{var Ye=200,Mr="Expected a function",Ze="__lodash_hash_undefined__",Ae=1,J=2,Qe=1/0,Et=9007199254740991,ye="[object Arguments]",$e="[object Array]",qt="[object Boolean]",Nt="[object Date]",Ft="[object Error]",$t="[object Function]",br="[object GeneratorFunction]",ve="[object Map]",Ht="[object Number]",B="[object Object]",St="[object Promise]",Bt="[object RegExp]",me="[object Set]",Gt="[object String]",Kt="[object Symbol]",He="[object WeakMap]",Wt="[object ArrayBuffer]",Pe="[object DataView]",Rr="[object Float32Array]",Ur="[object Float64Array]",Er="[object Int8Array]",qr="[object Int16Array]",Nr="[object Int32Array]",Fr="[object Uint8Array]",$r="[object Uint8ClampedArray]",Hr="[object Uint16Array]",Br="[object Uint32Array]",Gr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kr=/^\w*$/,Wr=/^\./,Jr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xr=/[\\^$.*+?()[\]{}|]/g,Yr=/\\(\\)?/g,Zr=/^\[object .+?Constructor\]$/,Qr=/^(?:0|[1-9]\d*)$/,y={};y[Rr]=y[Ur]=y[Er]=y[qr]=y[Nr]=y[Fr]=y[$r]=y[Hr]=y[Br]=!0;y[ye]=y[$e]=y[Wt]=y[qt]=y[Pe]=y[Nt]=y[Ft]=y[$t]=y[ve]=y[Ht]=y[B]=y[Bt]=y[me]=y[Gt]=y[He]=!1;var Jt=typeof global=="object"&&global&&global.Object===Object&&global,zr=typeof self=="object"&&self&&self.Object===Object&&self,E=Jt||zr||Function("return this")(),Xt=typeof k=="object"&&k&&!k.nodeType&&k,Ct=Xt&&typeof G=="object"&&G&&!G.nodeType&&G,Vr=Ct&&Ct.exports===Xt,It=Vr&&Jt.process,Ot=function(){try{return It&&It.binding("util")}catch{}}(),Dt=Ot&&Ot.isTypedArray;function kr(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function jr(e,t){for(var n=-1,r=e?e.length:0,u=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[u++]=s)}return i}function Yt(e,t){var n=e?e.length:0;return!!n&&ii(e,t,0)>-1}function Zt(e,t,n){for(var r=-1,u=e?e.length:0;++r<u;)if(n(t,e[r]))return!0;return!1}function ei(e,t){for(var n=-1,r=e?e.length:0,u=Array(r);++n<r;)u[n]=t(e[n],n,e);return u}function ti(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e}function ni(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function ri(e,t,n,r){for(var u=e.length,i=n+(r?1:-1);r?i--:++i<u;)if(t(e[i],i,e))return i;return-1}function ii(e,t,n){if(t!==t)return ri(e,ai,n);for(var r=n-1,u=e.length;++r<u;)if(e[r]===t)return r;return-1}function ai(e){return e!==e}function ui(e){return function(t){return t?.[e]}}function li(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return function(t){return e(t)}}function zt(e,t){return e.has(t)}function oi(e,t){return e?.[t]}function Be(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function si(e){var t=-1,n=Array(e.size);return e.forEach(function(r,u){n[++t]=[u,r]}),n}function fi(e,t){return function(n){return e(t(n))}}function ze(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ci=Array.prototype,di=Function.prototype,xe=Object.prototype,Ne=E["__core-js_shared__"],Lt=function(){var e=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Vt=di.toString,T=xe.hasOwnProperty,X=xe.toString,gi=RegExp("^"+Vt.call(T).replace(Xr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tt=E.Symbol,Mt=E.Uint8Array,pi=xe.propertyIsEnumerable,_i=ci.splice,hi=fi(Object.keys,Object),bt=Math.max,Ge=Y(E,"DataView"),j=Y(E,"Map"),Ke=Y(E,"Promise"),K=Y(E,"Set"),We=Y(E,"WeakMap"),ee=Y(Object,"create"),yi=$(Ge),vi=$(j),mi=$(Ke),Pi=$(K),wi=$(We),we=Tt?Tt.prototype:void 0,Fe=we?we.valueOf:void 0,Rt=we?we.toString:void 0;function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ai(){this.__data__=ee?ee(null):{}}function xi(e){return this.has(e)&&delete this.__data__[e]}function Si(e){var t=this.__data__;if(ee){var n=t[e];return n===Ze?void 0:n}return T.call(t,e)?t[e]:void 0}function Ci(e){var t=this.__data__;return ee?t[e]!==void 0:T.call(t,e)}function Ii(e,t){var n=this.__data__;return n[e]=ee&&t===void 0?Ze:t,this}N.prototype.clear=Ai;N.prototype.delete=xi;N.prototype.get=Si;N.prototype.has=Ci;N.prototype.set=Ii;function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oi(){this.__data__=[]}function Di(e){var t=this.__data__,n=Se(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():_i.call(t,n,1),!0}function Li(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]}function Ti(e){return Se(this.__data__,e)>-1}function Mi(e,t){var n=this.__data__,r=Se(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}M.prototype.clear=Oi;M.prototype.delete=Di;M.prototype.get=Li;M.prototype.has=Ti;M.prototype.set=Mi;function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function bi(){this.__data__={hash:new N,map:new(j||M),string:new N}}function Ri(e){return Ce(this,e).delete(e)}function Ui(e){return Ce(this,e).get(e)}function Ei(e){return Ce(this,e).has(e)}function qi(e,t){return Ce(this,e).set(e,t),this}b.prototype.clear=bi;b.prototype.delete=Ri;b.prototype.get=Ui;b.prototype.has=Ei;b.prototype.set=qi;function W(e){var t=-1,n=e?e.length:0;for(this.__data__=new b;++t<n;)this.add(e[t])}function Ni(e){return this.__data__.set(e,Ze),this}function Fi(e){return this.__data__.has(e)}W.prototype.add=W.prototype.push=Ni;W.prototype.has=Fi;function L(e){this.__data__=new M(e)}function $i(){this.__data__=new M}function Hi(e){return this.__data__.delete(e)}function Bi(e){return this.__data__.get(e)}function Gi(e){return this.__data__.has(e)}function Ki(e,t){var n=this.__data__;if(n instanceof M){var r=n.__data__;if(!j||r.length<Ye-1)return r.push([e,t]),this;n=this.__data__=new b(r)}return n.set(e,t),this}L.prototype.clear=$i;L.prototype.delete=Hi;L.prototype.get=Bi;L.prototype.has=Gi;L.prototype.set=Ki;function Wi(e,t){var n=F(e)||un(e)?li(e.length,String):[],r=n.length,u=!!r;for(var i in e)(t||T.call(e,i))&&!(u&&(i=="length"||tn(i,r)))&&n.push(i);return n}function Se(e,t){for(var n=e.length;n--;)if(an(e[n][0],t))return n;return-1}function Ut(e,t,n,r){var u=-1,i=Yt,s=!0,d=e.length,c=[],p=t.length;if(!d)return c;n&&(t=ei(t,Qt(n))),r?(i=Zt,s=!1):t.length>=Ye&&(i=zt,s=!1,t=new W(t));e:for(;++u<d;){var g=e[u],l=n?n(g):g;if(g=r||g!==0?g:0,s&&l===l){for(var o=p;o--;)if(t[o]===l)continue e;c.push(g)}else i(t,l,r)||c.push(g)}return c}function kt(e,t){t=Ie(t,e)?[t]:jt(t);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Oe(t[n++])];return n&&n==r?e:void 0}function Ji(e){return X.call(e)}function Xi(e,t){return e!=null&&t in Object(e)}function Ve(e,t,n,r,u){return e===t?!0:e==null||t==null||!De(e)&&!Le(t)?e!==e&&t!==t:Yi(e,t,Ve,n,r,u)}function Yi(e,t,n,r,u,i){var s=F(e),d=F(t),c=$e,p=$e;s||(c=U(e),c=c==ye?B:c),d||(p=U(t),p=p==ye?B:p);var g=c==B&&!Be(e),l=p==B&&!Be(t),o=c==p;if(o&&!g)return i||(i=new L),s||ya(e)?en(e,t,n,r,u,i):la(e,t,c,n,r,u,i);if(!(u&J)){var h=g&&T.call(e,"__wrapped__"),v=l&&T.call(t,"__wrapped__");if(h||v){var I=h?e.value():e,x=v?t.value():t;return i||(i=new L),n(I,x,r,u,i)}}return o?(i||(i=new L),oa(e,t,n,r,u,i)):!1}function Zi(e,t,n,r){var u=n.length,i=u,s=!r;if(e==null)return!i;for(e=Object(e);u--;){var d=n[u];if(s&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<i;){d=n[u];var c=d[0],p=e[c],g=d[1];if(s&&d[2]){if(p===void 0&&!(c in e))return!1}else{var l=new L;if(r)var o=r(p,g,c,e,t,l);if(!(o===void 0?Ve(g,p,r,Ae|J,l):o))return!1}}return!0}function Qi(e){if(!De(e)||da(e))return!1;var t=on(e)||Be(e)?gi:Zr;return t.test($(e))}function zi(e){return Le(e)&&je(e.length)&&!!y[X.call(e)]}function Vi(e){return typeof e=="function"?e:e==null?wa:typeof e=="object"?F(e)?ea(e[0],e[1]):ji(e):xa(e)}function ki(e){if(!ga(e))return hi(e);var t=[];for(var n in Object(e))T.call(e,n)&&n!="constructor"&&t.push(n);return t}function ji(e){var t=sa(e);return t.length==1&&t[0][2]?rn(t[0][0],t[0][1]):function(n){return n===e||Zi(n,e,t)}}function ea(e,t){return Ie(e)&&nn(t)?rn(Oe(e),t):function(n){var r=ma(n,e);return r===void 0&&r===t?Pa(n,e):Ve(t,r,void 0,Ae|J)}}function ta(e){return function(t){return kt(t,e)}}function na(e,t){return t=bt(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,u=bt(n.length-t,0),i=Array(u);++r<u;)i[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=i,kr(e,this,s)}}function ra(e){if(typeof e=="string")return e;if(et(e))return Rt?Rt.call(e):"";var t=e+"";return t=="0"&&1/e==-Qe?"-0":t}function ia(e,t,n){var r=-1,u=Yt,i=e.length,s=!0,d=[],c=d;if(n)s=!1,u=Zt;else if(i>=Ye){var p=t?null:ua(e);if(p)return ze(p);s=!1,u=zt,c=new W}else c=t?[]:d;e:for(;++r<i;){var g=e[r],l=t?t(g):g;if(g=n||g!==0?g:0,s&&l===l){for(var o=c.length;o--;)if(c[o]===l)continue e;t&&c.push(l),d.push(g)}else u(c,l,n)||(c!==d&&c.push(l),d.push(g))}return d}function aa(e,t,n){for(var r=-1,u=e.length;++r<u;)var i=i?ti(Ut(i,e[r],t,n),Ut(e[r],i,t,n)):e[r];return i&&i.length?ia(i,t,n):[]}function jt(e){return F(e)?e:pa(e)}var ua=K&&1/ze(new K([,-0]))[1]==Qe?function(e){return new K(e)}:Aa;function en(e,t,n,r,u,i){var s=u&J,d=e.length,c=t.length;if(d!=c&&!(s&&c>d))return!1;var p=i.get(e);if(p&&i.get(t))return p==t;var g=-1,l=!0,o=u&Ae?new W:void 0;for(i.set(e,t),i.set(t,e);++g<d;){var h=e[g],v=t[g];if(r)var I=s?r(v,h,g,t,e,i):r(h,v,g,e,t,i);if(I!==void 0){if(I)continue;l=!1;break}if(o){if(!ni(t,function(x,_){if(!o.has(_)&&(h===x||n(h,x,r,u,i)))return o.add(_)})){l=!1;break}}else if(!(h===v||n(h,v,r,u,i))){l=!1;break}}return i.delete(e),i.delete(t),l}function la(e,t,n,r,u,i,s){switch(n){case Pe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Wt:return!(e.byteLength!=t.byteLength||!r(new Mt(e),new Mt(t)));case qt:case Nt:case Ht:return an(+e,+t);case Ft:return e.name==t.name&&e.message==t.message;case Bt:case Gt:return e==t+"";case ve:var d=si;case me:var c=i&J;if(d||(d=ze),e.size!=t.size&&!c)return!1;var p=s.get(e);if(p)return p==t;i|=Ae,s.set(e,t);var g=en(d(e),d(t),r,u,i,s);return s.delete(e),g;case Kt:if(Fe)return Fe.call(e)==Fe.call(t)}return!1}function oa(e,t,n,r,u,i){var s=u&J,d=Xe(e),c=d.length,p=Xe(t),g=p.length;if(c!=g&&!s)return!1;for(var l=c;l--;){var o=d[l];if(!(s?o in t:T.call(t,o)))return!1}var h=i.get(e);if(h&&i.get(t))return h==t;var v=!0;i.set(e,t),i.set(t,e);for(var I=s;++l<c;){o=d[l];var x=e[o],_=t[o];if(r)var A=s?r(_,x,o,t,e,i):r(x,_,o,e,t,i);if(!(A===void 0?x===_||n(x,_,r,u,i):A)){v=!1;break}I||(I=o=="constructor")}if(v&&!I){var S=e.constructor,R=t.constructor;S!=R&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof R=="function"&&R instanceof R)&&(v=!1)}return i.delete(e),i.delete(t),v}function Ce(e,t){var n=e.__data__;return ca(t)?n[typeof t=="string"?"string":"hash"]:n.map}function sa(e){for(var t=Xe(e),n=t.length;n--;){var r=t[n],u=e[r];t[n]=[r,u,nn(u)]}return t}function Y(e,t){var n=oi(e,t);return Qi(n)?n:void 0}var U=Ji;(Ge&&U(new Ge(new ArrayBuffer(1)))!=Pe||j&&U(new j)!=ve||Ke&&U(Ke.resolve())!=St||K&&U(new K)!=me||We&&U(new We)!=He)&&(U=function(e){var t=X.call(e),n=t==B?e.constructor:void 0,r=n?$(n):void 0;if(r)switch(r){case yi:return Pe;case vi:return ve;case mi:return St;case Pi:return me;case wi:return He}return t});function fa(e,t,n){t=Ie(t,e)?[t]:jt(t);for(var r,u=-1,s=t.length;++u<s;){var i=Oe(t[u]);if(!(r=e!=null&&n(e,i)))break;e=e[i]}if(r)return r;var s=e?e.length:0;return!!s&&je(s)&&tn(i,s)&&(F(e)||un(e))}function tn(e,t){return t=t??Et,!!t&&(typeof e=="number"||Qr.test(e))&&e>-1&&e%1==0&&e<t}function Ie(e,t){if(F(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||et(e)?!0:Kr.test(e)||!Gr.test(e)||t!=null&&e in Object(t)}function ca(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function da(e){return!!Lt&&Lt in e}function ga(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||xe;return e===n}function nn(e){return e===e&&!De(e)}function rn(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var pa=ke(function(e){e=va(e);var t=[];return Wr.test(e)&&t.push(""),e.replace(Jr,function(n,r,u,i){t.push(u?i.replace(Yr,"$1"):r||n)}),t});function Oe(e){if(typeof e=="string"||et(e))return e;var t=e+"";return t=="0"&&1/e==-Qe?"-0":t}function $(e){if(e!=null){try{return Vt.call(e)}catch{}try{return e+""}catch{}}return""}function _a(e){var t=e?e.length:0;return t?e[t-1]:void 0}var ha=na(function(e){var t=_a(e);return Je(t)&&(t=void 0),aa(jr(e,Je),Vi(t,2))});function ke(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(Mr);var n=function(){var r=arguments,u=t?t.apply(this,r):r[0],i=n.cache;if(i.has(u))return i.get(u);var s=e.apply(this,r);return n.cache=i.set(u,s),s};return n.cache=new(ke.Cache||b),n}ke.Cache=b;function an(e,t){return e===t||e!==e&&t!==t}function un(e){return Je(e)&&T.call(e,"callee")&&(!pi.call(e,"callee")||X.call(e)==ye)}var F=Array.isArray;function ln(e){return e!=null&&je(e.length)&&!on(e)}function Je(e){return Le(e)&&ln(e)}function on(e){var t=De(e)?X.call(e):"";return t==$t||t==br}function je(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Et}function De(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Le(e){return!!e&&typeof e=="object"}function et(e){return typeof e=="symbol"||Le(e)&&X.call(e)==Kt}var ya=Dt?Qt(Dt):zi;function va(e){return e==null?"":ra(e)}function ma(e,t,n){var r=e==null?void 0:kt(e,t);return r===void 0?n:r}function Pa(e,t){return e!=null&&fa(e,t,Xi)}function Xe(e){return ln(e)?Wi(e):ki(e)}function wa(e){return e}function Aa(){}function xa(e){return Ie(e)?ui(Oe(e)):ta(e)}G.exports=ha});var Ca={};Pn(Ca,{default:()=>pn});module.exports=wn(Ca);var a=require("@raycast/api"),w=require("react");var O=rt(At(),1),Ka=O.default.v1,Wa=O.default.v3,xt=O.default.v4,Ja=O.default.v5,Xa=O.default.NIL,Ya=O.default.version,Za=O.default.validate,Qa=O.default.stringify,za=O.default.parse;var fn=rt(sn()),cn=require("url"),f=require("react/jsx-runtime"),dn=a.Icon,gn=a.Color,Sa=e=>{let[t,n]=(0,w.useState)(void 0),r=i=>{if(i.name==="")return n("Name is required");e.onCreateOrEditPresetName(i.name,i.icon,i.color)},u=i=>{i?.length?n(void 0):n("Name is required")};return(0,f.jsxs)(a.Form,{navigationTitle:"Create Preset: (2/2)",actions:(0,f.jsx)(a.ActionPanel,{children:(0,f.jsx)(a.Action.SubmitForm,{title:"Save Preset",icon:a.Icon.SaveDocument,onSubmit:r})}),children:[(0,f.jsx)(a.Form.TextField,{id:"name",title:"Name",defaultValue:e.name,placeholder:"My New Preset",autoFocus:!0,error:t,onChange:i=>u(i),onBlur:i=>u(i.target.value)}),(0,f.jsx)(a.Form.Dropdown,{id:"icon",title:"Icon",defaultValue:e.icon||"CircleFilled",children:Object.keys(a.Icon).map(i=>(0,f.jsx)(a.Form.Dropdown.Item,{title:i,value:i,icon:dn[i]},i))}),(0,f.jsx)(a.Form.Dropdown,{id:"color",title:"Color",defaultValue:e.color||"Orange",children:Object.keys(a.Color).map(i=>(0,f.jsx)(a.Form.Dropdown.Item,{title:i,value:i,icon:{source:a.Icon.CircleFilled,tintColor:gn[i]}},i))})]})},tt=e=>{let[t,n]=(0,w.useState)([]),[r,u]=(0,w.useState)([]),[i,s]=(0,w.useState)([]),[d,c]=(0,w.useState)(!1),{push:p,pop:g}=(0,a.useNavigation)();(0,w.useEffect)(()=>{(async()=>{try{let _=await(0,a.getApplications)(),A=(S,R)=>S.name.localeCompare(R.name);n(_.sort(A)),c(!0)}catch{(0,a.showToast)({title:"Error",message:"Could not load Apps",style:a.Toast.Style.Failure})}e.editing&&e.preset?.apps?.length&&u(e.preset.apps),e.editing&&e.preset?.urls?.length&&s(e.preset.urls)})()},[]);let l=_=>{u(A=>(0,fn.default)(A,[_],"bundleId"))},o=(_,A,S)=>{e.onCreateOrEditPreset({...e.preset,name:_,icon:A,color:S,apps:r,urls:i,new:!e.editing}),g()},h=_=>r.map(A=>A.bundleId).includes(_.bundleId),v=()=>{r.length||i.length?p((0,f.jsx)(Sa,{name:e.preset?.name,icon:e.preset?.icon,color:e.preset?.color,onCreateOrEditPresetName:o})):(0,a.showToast)({title:"At least 1 Application or URL Set required",style:a.Toast.Style.Failure})},I=_=>{let[A,S]=(0,w.useState)([]);(0,w.useEffect)(()=>{(async()=>_.urls&&_.urls.length?S(_.urls):S([""]))()},[]);let R=Z=>{let H=Object.values(Z).filter(te=>te!=="");try{H.forEach(te=>{new cn.URL(te)}),s(H),g()}catch{(0,a.showToast)({title:"One or more URLs are invalid. Please check.",style:a.Toast.Style.Failure})}};return(0,f.jsx)(a.Form,{actions:(0,f.jsxs)(a.ActionPanel,{children:[(0,f.jsx)(a.Action.SubmitForm,{title:"Save URL Set",icon:a.Icon.SaveDocument,onSubmit:R}),(0,f.jsx)(a.ActionPanel.Section,{title:"URLs",children:(0,f.jsx)(a.Action,{title:"Add URL",icon:a.Icon.Plus,shortcut:{modifiers:["cmd"],key:"n"},onAction:()=>S(Z=>[...Z,""])})})]}),children:A.map((Z,H)=>(0,f.jsx)(a.Form.TextField,{id:`url-${H}`,title:`URL: #${H+1}`,defaultValue:Z},H))})},x=_=>(0,f.jsx)(a.List.Item,{title:_.name,icon:{fileIcon:_.path},accessories:[{icon:h(_)?a.Icon.Checkmark:void 0}],actions:(0,f.jsxs)(a.ActionPanel,{children:[(0,f.jsx)(a.Action,{title:`${h(_)?"Deselect":"Select"} Application`,icon:h(_)?a.Icon.Circle:a.Icon.CircleProgress100,onAction:()=>l(_)}),(0,f.jsx)(a.Action,{title:"Continue...",icon:a.Icon.ArrowRightCircleFilled,onAction:()=>{(0,a.clearSearchBar)(),v()}})]})},_.bundleId);return(0,f.jsxs)(a.List,{isLoading:!d,navigationTitle:"Create Preset: (1/2)",children:[(0,f.jsx)(a.List.Section,{title:"Special",children:(0,f.jsx)(a.List.Item,{title:`URL Set ${i.length?`(${i.length} URLs)`:""}`,icon:a.Icon.Link,accessories:[{icon:i.length?a.Icon.Checkmark:void 0}],actions:(0,f.jsxs)(a.ActionPanel,{children:[(0,f.jsx)(a.Action.Push,{title:"Configure URL Set",icon:a.Icon.Cog,target:(0,f.jsx)(I,{urls:i})}),(0,f.jsx)(a.Action,{title:"Continue...",icon:a.Icon.ArrowRightCircleFilled,onAction:()=>{(0,a.clearSearchBar)(),v()}})]})})}),(0,f.jsx)(a.List.Section,{title:"Selected Applications",children:r.map(_=>x(_))}),(0,f.jsx)(a.List.Section,{title:"All Applications",children:t.filter(_=>!r.map(A=>A.bundleId).includes(_.bundleId)).map(_=>x(_))})]})};function pn(){let[e,t]=(0,w.useState)([]),[n,r]=(0,w.useState)(!1),[u,i]=(0,w.useState)(!1),{pop:s}=(0,a.useNavigation)();(0,w.useEffect)(()=>{(async()=>{let l=await a.LocalStorage.getItem("xecutor");if(l)try{let o=JSON.parse(l);t(o)}catch{}r(!0)})()},[]),(0,w.useEffect)(()=>{(async()=>await a.LocalStorage.setItem("xecutor",JSON.stringify(e)))()},[e]);let d=async l=>{await Promise.all([...l.apps.map(async o=>(0,a.open)(o.path)),...l.urls.map(async o=>(0,a.open)(o))])},c=l=>{l.new?t(o=>[...o,{id:xt(),name:l.name,icon:l.icon,color:l.color,apps:l.apps,urls:l.urls}].sort((h,v)=>h.name.toLowerCase().localeCompare(v.name.toLocaleLowerCase()))):t(o=>o.map(h=>h.id===l.id?{id:l.id,name:l.name,icon:l.icon,color:l.color,apps:l.apps,urls:l.urls}:h).sort((h,v)=>h.name.toLowerCase().localeCompare(v.name.toLocaleLowerCase()))),s()},p=async l=>{await(0,a.confirmAlert)({title:"Are you sure?",message:"This action is irreversible",icon:{source:a.Icon.Trash,tintColor:a.Color.Red},primaryAction:{title:"Delete",onAction:()=>{t(o=>o.filter(h=>h.id!==l.id)),(0,a.showToast)({title:`Deleted preset: ${l.name}`})}}})},g=(l,o,h)=>l.length===1?`${o}`:`${h}`;return(0,f.jsxs)(a.List,{isLoading:!n,isShowingDetail:u,actions:(0,f.jsx)(a.ActionPanel,{children:(0,f.jsx)(a.Action.Push,{title:"Create Preset",icon:a.Icon.NewDocument,target:(0,f.jsx)(tt,{onCreateOrEditPreset:c}),onPush:a.clearSearchBar})}),children:[e.map(l=>(0,f.jsx)(a.List.Item,{title:l.name,icon:{source:dn[l.icon],tintColor:gn[l.color]},accessories:[{icon:a.Icon.Link,text:`x${l.urls.length}`},{icon:a.Icon.Window,text:`x${l.apps.length}`}],detail:(0,f.jsx)(a.List.Item.Detail,{metadata:(0,f.jsxs)(a.List.Item.Detail.Metadata,{children:[(0,f.jsx)(a.List.Item.Detail.Metadata.Label,{title:"URLs"}),l.urls.length?l.urls.map((o,h)=>(0,f.jsx)(a.List.Item.Detail.Metadata.Link,{text:"",target:o,title:o},h)):(0,f.jsx)(a.List.Item.Detail.Metadata.Label,{title:"None"}),(0,f.jsx)(a.List.Item.Detail.Metadata.Separator,{}),(0,f.jsx)(a.List.Item.Detail.Metadata.Label,{title:"Applications"}),l.apps.length?l.apps.map((o,h)=>(0,f.jsx)(a.List.Item.Detail.Metadata.Label,{title:o.name,icon:{fileIcon:o.path}},h)):(0,f.jsx)(a.List.Item.Detail.Metadata.Label,{title:"None"})]})}),actions:(0,f.jsxs)(a.ActionPanel,{children:[(0,f.jsx)(a.Action,{title:"Execute Preset",icon:a.Icon.Play,onAction:()=>{d(l),(0,a.showHUD)(`${l.apps.length} ${g(l.apps,"App","Apps")}, ${l.urls.length} ${g(l.apps,"URL","URLs")} Launched via Preset: ${l.name}`)}}),(0,f.jsx)(a.Action.Push,{title:"Edit Preset",icon:a.Icon.Pencil,target:(0,f.jsx)(tt,{preset:l,editing:!0,onCreateOrEditPreset:c})}),(0,f.jsx)(a.Action,{title:"Toggle Details",icon:a.Icon.AppWindowSidebarRight,shortcut:{modifiers:["cmd"],key:"d"},onAction:()=>i(!u)}),(0,f.jsx)(a.Action.Push,{title:"Create Preset",icon:a.Icon.NewDocument,shortcut:{modifiers:["cmd"],key:"n"},target:(0,f.jsx)(tt,{onCreateOrEditPreset:c}),onPush:a.clearSearchBar}),(0,f.jsx)(a.Action,{title:"Delete Preset",icon:a.Icon.Trash,style:a.Action.Style.Destructive,shortcut:{modifiers:["cmd"],key:"backspace"},onAction:()=>p(l)})]})},l.id)),(0,f.jsx)(a.List.EmptyView,{title:"No Presets"})]})}0&&(module.exports={});
